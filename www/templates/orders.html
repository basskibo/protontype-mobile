<ion-view view-title="Invoices">

  <ion-floating-menu menu-color="#CF061C" menu-open-color="#CF061C"  backdrop="true">
    <ion-floating-item icon="ion-ios-paper"  button-color="#262626" ng-click="createNewOrder()"
                       text="Create Invoice"></ion-floating-item>
    <ion-floating-item icon="ion-ios-infinite"  button-color="#262626" ng-click="createNewOrder()"
                       text="Create Recurring Invoice"></ion-floating-item>

  </ion-floating-menu>
  <ion-content>
    <ion-refresher
      pulling-text="Pull to refresh..."
      on-refresh="doRefresh()">
    </ion-refresher>

    <div class="row" style="margin:10px;" ng-show="!dataLoaded">
      <div class="col"></div>
      <ion-spinner name="dots"></ion-spinner>
      <div class="col"></div>
    </div>
    <div class="row" style="margin:10px;" ng-show="!dataLoaded">
      <div class="col"></div>
      <h4 class="">Loading invoices...</h4>
      <div class="col"></div>
    </div>

    <div ng-show="dataLoaded">
      <div class="bar bar-header item-input-inset">
        <label class="item-input-wrapper">
          <i class="icon ion-ios-search placeholder-icon"></i>
          <input type="search" placeholder="Search">
        </label>
        <button class="button button-clear button-positive">
          Clear
        </button>
      </div>

      <ion-list ng-repeat="c in orders">
        <ion-item href="#/app/orders/{{c.id}}" on-hold="onHold()">
          <p>Customer: {{c.customerName}} </p>
          <p>Status: {{c.status}}</p>
          <p>Total Price : {{c.totalPrice}} {{companyObj.currencySymbol}} </p>
          <p>Created at: {{c.createdAt | date:'dd/MM/yyyy'}} </p>
          <p>Deadline : {{c.deadline | date:'dd/MM/yyyy'}}</p>
        </ion-item>

      </ion-list>
    </div>


  </ion-content>
</ion-view>
